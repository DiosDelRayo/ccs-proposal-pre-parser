pre_parser_v1.0:
    image: php:8.1-cli
    stage: deploy
    script: 
        - |
          apt-get -qq update && 
          apt-get install git -yqq && 
          apt-get install -y libyaml-dev jq && # signify-openbsd
          pecl install yaml &&
          echo "extension=yaml.so" > /usr/local/etc/php/conf.d/add-yaml-ext.ini &&
          # use signify to validate, much easier and secure!
          # 
          #download pre_parser_1.sh and pre_parser_2.php
          curl -L -o pre_parser_1.php https://raw.githubusercontent.com/plowsof/ccs-proposal-pre-parser/aecdb59ec833569616c82431d8589599fbdc3413/pre_parser_1.sh
          curl -L -o pre_parser_2.php https://raw.githubusercontent.com/plowsof/ccs-proposal-pre-parser/aa1168a52b3ea206341010c462c5a829f3e1f3b2/pre_parser_2.php
          chmod +x pre_parser_1.sh && 
          ./pre_parser_1.sh
    rules:
        - if: $CI_PIPELINE_SOURCE == "merge_request_event"
